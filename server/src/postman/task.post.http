### 1. Login (POST /api/users/login)
POST http://localhost:3056/api/users/login
Content-Type: application/json

{
  "username": "votu2003",
  "password": "NgocTu3105"
}

### 2. Create User (POST /api/users/create) - Admin Only
POST http://localhost:3056/api/users/create
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NGZjNGEwZjYwNDE3ZGZmMDc5N2MwZiIsInJvbGUiOiJhZG1pbiIsInBvc2l0aW9uIjoiR2nDoW0gxJHhu5FjIiwiaWF0IjoxNzUwMjY3MTE5LCJleHAiOjE3NTAyNzA3MTl9.AArczJ7ZVT9U9DGh7E7xqfzfhpjzN6Xg8eonT6Yj5iA

{
  "username": "staff2",
  "password": "staff123",
  "email": "staff2@example.com",
  "fullName": "Nguyen Van A",
  "gender": "Nam",
  "position": "Nhân viên",
  "phoneNumber": "0901234567",
  "department": "Phòng Dự án",
  "directSupervisor": "684fc4a0f60417dff0797c0f"
}

### UserLogin
POST http://localhost:3056/api/users/login
Content-Type: application/json

{
  "username": "staff2",
  "password": "staff123"
}

### 3. Get Subordinates (GET /api/users/subordinates)
GET http://localhost:3056/api/users/subordinates
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NGZjNGEwZjYwNDE3ZGZmMDc5N2MwZiIsInJvbGUiOiJhZG1pbiIsInBvc2l0aW9uIjoiR2nDoW0gxJHhu5FjIiwiaWF0IjoxNzUwMjY3MzMzLCJleHAiOjE3NTAyNzA5MzN9.8ryyWUHlMsGimrmP5_VYS-sjAWjdM0P0RKwMb6c9w6s

### 4. Get User Profile (GET /api/users/profile)
GET http://localhost:3056/api/users/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NGZjNGEwZjYwNDE3ZGZmMDc5N2MwZiIsInJvbGUiOiJhZG1pbiIsInBvc2l0aW9uIjoiR2nDoW0gxJHhu5FjIiwiaWF0IjoxNzUwMjY3MzMzLCJleHAiOjE3NTAyNzA5MzN9.8ryyWUHlMsGimrmP5_VYS-sjAWjdM0P0RKwMb6c9w6s

### 5. Update User (PUT /api/users/update/:id)
PUT http://localhost:3056/api/users/update/684fc4a0f60417dff0797c0f
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NGZjNGEwZjYwNDE3ZGZmMDc5N2MwZiIsInJvbGUiOiJhZG1pbiIsInBvc2l0aW9uIjoiR2nDoW0gxJHhu5FjIiwiaWF0IjoxNzUwMjY3MzMzLCJleHAiOjE3NTAyNzA5MzN9.8ryyWUHlMsGimrmP5_VYS-sjAWjdM0P0RKwMb6c9w6s
Content-Type: application/json

{
  "fullName": "Võ Ngọc Tú",
  "department": "Phòng Hành chính",
  "phoneNumber": "0123456789",
  "gender": "Nam",
  "status": false
}

### 6. Delete User (DELETE /api/users/delete/:id)
DELETE http://localhost:3056/api/users/delete/684d9d5d086fa3fc8f6b2e9d (Replace with userId)
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)

### 7. Create Task (POST /api/tasks/create)
POST http://localhost:3056/api/tasks/create
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)
Content-Type: application/json

{
  "title": "Nhiệm vụ 1",
  "description": "Mô tả nhiệm vụ",
  "objective": "Nhiệm vụ 1",
  "assignedUnit": "Phòng Dự án",
  "startDate": "2025-06-20",
  "endDate": "2025-07-20",
  "assignedTo": ["user2", "user3"] (Replace with subordinate _ids from Get Subordinates),
  "guideline": "data:application/pdf;base64,JVBERi0xLjQKJeLjz9M... (Replace with base64 of a PDF)"
}

### 8. Get Task List (GET /api/tasks/list)
GET http://localhost:3056/api/tasks/list
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)

### 9. Get Task Detail (GET /api/tasks/:id)
GET http://localhost:3056/api/tasks/123456789012 (Replace with taskId from Create Task)
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)

### 10. Update Task (PUT /api/tasks/:id)
PUT http://localhost:3056/api/tasks/123456789012 (Replace with taskId)
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)
Content-Type: application/json

{
  "progress": 50,
  "actualResult": "Đã hoàn thành 50%",
  "report": "data:application/pdf;base64,JVBERi0xLjQKJeLjz9M... (Replace with base64 of a PDF)"
}

### 11. Approve Task (PUT /api/tasks/:id/approve)
PUT http://localhost:3056/api/tasks/123456789012/approve (Replace with taskId)
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)
Content-Type: application/json

{
  "approved": true
}

### 12. Delete Task (DELETE /api/tasks/:id)
DELETE http://localhost:3056/api/tasks/123456789012 (Replace with taskId)
Authorization: Bearer eyJhbGciOiJIUzI5NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)

### 13. Error Cases - Invalid Login
POST http://localhost:3056/api/users/login
Content-Type: application/json

{
  "username": "wronguser",
  "password": "wrongpass"
}

### 14. Error Cases - Unauthorized Access (No Token)
GET http://localhost:3056/api/tasks/list

### 15. Error Cases - Invalid Data (Create Task with Missing Fields)
POST http://localhost:3056/api/tasks/create
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login)
Content-Type: application/json

{
  "title": "Nhiệm vụ 1",
  "description": "", // Missing required field
  "objective": "Nhiệm vụ 1",
  "assignedUnit": "Phòng Dự án",
  "startDate": "2025-06-20",
  "endDate": "2025-07-20",
  "assignedTo": ["user2"]
}

### 18. Create User with Supervisor (POST /api/users/create) - Trưởng phòng
POST http://localhost:3056/api/users/create
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login of admin)

{
  "username": "manager1",
  "password": "manager123",
  "email": "manager1@example.com",
  "fullName": "Tran Van E",
  "gender": "Nam",
  "position": "Trưởng phòng",
  "phoneNumber": "0909876543",
  "department": "Phòng Hành chính",
  "directSupervisor": "684d9d5d086fa3fc8f6b2e9d" (Replace with userId of votu2003 - admin)
}

### 19. Create Task by Manager (POST /api/tasks/create)
POST http://localhost:3056/api/tasks/create
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login of manager1)
Content-Type: application/json

{
  "title": "Nhiệm vụ từ Trưởng phòng",
  "description": "Mô tả nhiệm vụ",
  "objective": "Nhiệm vụ 1",
  "assignedUnit": "Phòng Hành chính",
  "startDate": "2025-06-20",
  "endDate": "2025-07-20",
  "assignedTo": ["user2", "user3"] (Replace with subordinate _ids),
  "guideline": "data:application/pdf;base64,JVBERi0xL..."
}

### 20. Error Case - Create User without Supervisor (POST /api/users/create)
POST http://localhost:3056/api/users/create
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4NGZjNGEwZjYwNDE3ZGZmMDc5N2MwZiIsInJvbGUiOiJhZG1pbiIsInBvc2l0aW9uIjoiR2nDoW0gxJHhu5FjIiwiaWF0IjoxNzUwMjY3MzMzLCJleHAiOjE3NTAyNzA5MzN9.8ryyWUHlMsGimrmP5_VYS-sjAWjdM0P0RKwMb6c9w6s

{
  "username": "user4",
  "password": "user123",
  "email": "user4@example.com",
  "fullName": "Le Van F",
  "gender": "Nam",
  "position": "Nhân viên",
  "phoneNumber": "0901112233",
  "department": "Phòng Dự án",
  "directSupervisor": null
}

### 22. Check User Without Supervisor (GET /api/users/check-supervisor)
GET http://localhost:3056/api/users/check-supervisor
Authorization: Bearer eyJhbGciOiJIUzI5NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login of admin)

### 23. Fix User Supervisor (POST /api/users/fix-supervisor)
POST http://localhost:3056/api/users/fix-supervisor
Authorization: Bearer eyJhbGciOiJIUzI5NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login of admin)
Content-Type: application/json

{
  "userId": "user_without_supervisor_id" (Replace with _id from check-supervisor),
  "supervisorId": "684d9d5d086fa3fc8f6b2e9d" (Replace with userId of admin)
}

### 24. Error Case - Create Task with User Without Supervisor
POST http://localhost:3056/api/tasks/create
Authorization: Bearer eyJhbGciOiJIUzI5NiIsInR5cCI6IkpXVCJ9... (Replace with token from Login of user without supervisor)
Content-Type: application/json

{
  "title": "Nhiệm vụ từ User lỗi",
  "description": "Mô tả nhiệm vụ",
  "objective": "Nhiệm vụ 1",
  "assignedUnit": "Phòng Hành chính",
  "startDate": "2025-06-20",
  "endDate": "2025-07-20",
  "assignedTo": ["user2"],
  "guideline": "data:application/pdf;base64,JVBERi0xL..."
}